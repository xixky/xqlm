(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9d430ac6"],{4015:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("a-card",{attrs:{bordered:!1}},[s("s-table",{ref:"table",attrs:{size:"default",pagination:!1,loading:e.loading,columns:e.columns,data:e.loadData,rowKey:function(e){return e.sessionId},rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},scopedSlots:e._u([{key:"lastLoginAddress",fn:function(t){return s("span",{},[s("ellipsis",{attrs:{length:20,tooltip:""}},[e._v(e._s(t))])],1)}},{key:"lastLoginBrowser",fn:function(t){return s("span",{},[s("ellipsis",{attrs:{length:20,tooltip:""}},[e._v(e._s(t))])],1)}},{key:"action",fn:function(t,n){return s("span",{},[e.hasPerm("sysOnlineUser:forceExist")?s("a-popconfirm",{attrs:{placement:"topRight",title:"是否强制下线该用户？"},on:{confirm:function(){return e.forceExist(n)}}},[s("a",[e._v("强制下线")])]):e._e()],1)}}])})],1)},a=[],o=(s("d3b7"),s("2af9")),i=s("b775");function r(e){return Object(i["b"])({url:"/sysOnlineUser/list",method:"get",params:e})}function c(e){return Object(i["b"])({url:"/sysOnlineUser/forceExist",method:"post",data:e})}var l={components:{STable:o["r"],Ellipsis:o["h"]},data:function(){var e=this;return{queryParam:{},columns:[{title:"账号",dataIndex:"account"},{title:"昵称",dataIndex:"nickName"},{title:"最后登录IP",dataIndex:"lastLoginIp"},{title:"最后登录时间",dataIndex:"lastLoginTime"},{title:"最后登录地址",dataIndex:"lastLoginAddress",scopedSlots:{customRender:"lastLoginAddress"}},{title:"最后登录浏览器",dataIndex:"lastLoginBrowser",scopedSlots:{customRender:"lastLoginBrowser"}},{title:"最后登录所用系统",dataIndex:"lastLoginOs"}],loading:!0,loadData:function(t){return r(Object.assign(t,e.queryParam)).then((function(t){return e.hasPerm("sysOnlineUser:list")?t.data:new Promise((function(e,t){return e()}))}))},selectedRowKeys:[],selectedRows:[]}},created:function(){this.hasPerm("sysOnlineUser:forceExist")&&this.columns.push({title:"操作",width:"150px",dataIndex:"action",scopedSlots:{customRender:"action"}})},methods:{forceExist:function(e){var t=this;c(e).then((function(e){e.success?(t.$message.success("强制下线成功"),t.loadDataList()):t.$message.error("强制下线失败："+e.message)})).catch((function(e){t.$message.error("强制下线错误："+e.message)}))},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectedRows=t}}},d=l,u=(s("72ad"),s("2877")),f=Object(u["a"])(d,n,a,!1,null,null,null);t["default"]=f.exports},"72ad":function(e,t,s){"use strict";s("acd4")},acd4:function(e,t,s){}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5f1c9f7c","chunk-78220a0b","chunk-4a6d2f8f"],{2015:function(e,t,r){},"25fa":function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return s})),r.d(t,"d",(function(){return i})),r.d(t,"f",(function(){return l})),r.d(t,"e",(function(){return d}));var a=r("b775");function n(e){return Object(a["b"])({url:"/sysOrg/tree",method:"get",params:e})}function o(e){return Object(a["b"])({url:"/sysOrg/list",method:"get",params:e})}function s(e){return Object(a["b"])({url:"/sysOrg/page",method:"get",params:e})}function i(e){return Object(a["b"])({url:"/sysOrg/add",method:"post",data:e})}function l(e){return Object(a["b"])({url:"/sysOrg/edit",method:"post",data:e})}function d(e){return Object(a["b"])({url:"/sysOrg/delete",method:"post",data:e})}},"4d0e":function(e,t,r){"use strict";r("2015")},"51ba":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("a-row",{attrs:{gutter:24}},[r("a-col",{attrs:{md:5,sm:24}},[r("a-card",{attrs:{bordered:!1,loading:e.treeLoading}},[""!=this.orgTree?r("div",[e.orgTree.length?r("a-tree",{staticStyle:{scroll:"true"},attrs:{treeData:e.orgTree,defaultExpandAll:!0,defaultExpandedKeys:e.defaultExpandedKeys,replaceFields:e.replaceFields},on:{select:e.handleClick}}):e._e()],1):r("div",[r("a-empty",{attrs:{image:e.simpleImage}})],1)])],1),r("a-col",{attrs:{md:19,sm:24}},[r("a-card",{attrs:{bordered:!1}},[e.hasPerm("ysCompany:list")?r("div",{staticClass:"table-page-search-wrapper"},[r("a-form",{attrs:{layout:"inline"}},[r("a-row",{attrs:{gutter:48}},[r("a-col",{attrs:{md:8,sm:24}},[r("a-form-item",{attrs:{label:"园所名称"}},[r("a-input",{attrs:{"allow-clear":"",placeholder:"请输入园所名称"},model:{value:e.queryParam.cpName,callback:function(t){e.$set(e.queryParam,"cpName",t)},expression:"queryParam.cpName"}})],1)],1),r("a-col",{attrs:{md:8,sm:24}},[r("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.$refs.table.refresh(!0)}}},[e._v("查询")]),r("a-button",{staticStyle:{"margin-left":"8px"},on:{click:function(){return e.queryParam={}}}},[e._v("重置")])],1),r("a-col",{attrs:{md:8,sm:24}})],1)],1)],1):e._e(),e.hasPerm("ysCompany:add")?r("div",{staticClass:"table-operator"},[e.hasPerm("ysCompany:add")?r("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:function(t){return e.$refs.addForm.add()}}},[e._v("新增机构")]):e._e()],1):e._e(),r("s-table",{ref:"table",attrs:{size:"default",columns:e.columns,data:e.loadData,alert:!0,rowKey:function(e){return e.id}},scopedSlots:e._u([{key:"action",fn:function(t,a){return r("span",{},[e.hasPerm("ysCompany:edit")?r("a",{on:{click:function(t){return e.$refs.editForm.edit(a)}}},[e._v("编辑")]):e._e(),e.hasPerm("ysCompany:edit")&e.hasPerm("ysCompany:delete")?r("a-divider",{attrs:{type:"vertical"}}):e._e(),e.hasPerm("ysCompany:delete")?r("a-popconfirm",{attrs:{placement:"topRight",title:"确认删除？"},on:{confirm:function(){return e.sysOrgDelete(a)}}},[r("a",[e._v("删除")])]):e._e()],1)}}])}),r("add-form",{ref:"addForm",on:{ok:e.handleOk}}),r("edit-form",{ref:"editForm",on:{ok:e.handleOk}})],1)],1)],1)},n=[],o=r("b85c"),s=(r("06f4"),r("fc25")),i=(r("d3b7"),r("25f0"),r("2af9")),l=r("25fa"),d=r("d507"),c=r("ba74"),u=r("7b7d"),m=(r("4360"),{components:{STable:i["r"],addForm:c["default"],editForm:u["default"]},data:function(){var e=this;return{advanced:!1,queryParam:{},columns:[{title:"id",dataIndex:"id"},{title:"园所名称",dataIndex:"cpName"},{title:"园所规模",dataIndex:"cpRange"},{title:"园所性质",dataIndex:"cpMode"},{title:"岗位数量",dataIndex:"positionCount"},{title:"简历数量",dataIndex:"resumeCount"},{title:"未处理简历数量",dataIndex:"noReadResumeCount"}],loadData:function(t){return Object(d["a"])(Object.assign(t,e.queryParam)).then((function(e){return e.data}))},orgTree:[],selectedRowKeys:[],selectedRows:[],defaultExpandedKeys:[],expandedKeys:[],searchValue:"",autoExpandParent:!0,treeLoading:!0,simpleImage:s["a"].PRESENTED_IMAGE_SIMPLE,replaceFields:{key:"id"}}},created:function(){this.getOrgTree(),(this.hasPerm("ysCompany:edit")||this.hasPerm("ysCompany:delete"))&&this.columns.push({title:"操作",width:"150px",dataIndex:"action",scopedSlots:{customRender:"action"}})},methods:{getOrgTree:function(){var e=this;Object(d["c"])(Object.assign(this.queryParam)).then((function(t){if(e.treeLoading=!1,t.success){e.orgTree=t.data,e.queryParam.orgId=e.orgTree[0].id;var r,a=Object(o["a"])(t.data);try{for(a.s();!(r=a.n()).done;){var n=r.value;0==n.parentId&&e.defaultExpandedKeys.push(n.id)}}catch(s){a.e(s)}finally{a.f()}e.$refs.table.refresh()}}))},sysOrgDelete:function(e){var t=this;Object(l["e"])(e).then((function(e){e.success?(t.$message.success("删除成功"),t.getOrgTree(),t.$refs.table.refresh()):t.$message.error("删除失败："+e.message)})).catch((function(e){t.$message.error("删除错误："+e.message)}))},handleClick:function(e){this.queryParam={orgId:e.toString()},this.$refs.table.refresh(!0)},toggleAdvanced:function(){this.advanced=!this.advanced},handleOk:function(){this.getOrgTree(),this.$refs.table.refresh()},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectedRows=t}}}),f=m,p=(r("4d0e"),r("2877")),b=Object(p["a"])(f,a,n,!1,null,null,null);t["default"]=b.exports},"7b7d":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("a-modal",{attrs:{title:"编辑机构",width:900,visible:e.visible,confirmLoading:e.confirmLoading},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[r("a-spin",{attrs:{spinning:e.formLoading}},[r("a-form",{attrs:{form:e.form}},[r("a-form-item",{staticStyle:{display:"none"},attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["id"],expression:"['id']"}]})],1),r("a-form-item",{attrs:{label:"机构名称",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"请输入机构名称！"}]}],expression:"['name', {rules: [{required: true, message: '请输入机构名称！'}]}]"}],attrs:{placeholder:"请输入机构名称"}})],1),r("a-form-item",{attrs:{label:"唯一编码",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["code",{rules:[{required:!0,message:"请输入唯一编码！"}]}],expression:"['code', {rules: [{required: true, message: '请输入唯一编码！'}]}]"}],attrs:{placeholder:"请输入唯一编码"}})],1),r("a-form-item",{attrs:{label:"上级机构",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[r("a-tree-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["pid",{rules:[{required:!0,message:"请选择上级机构！"}]}],expression:"['pid', {rules: [{ required: true, message: '请选择上级机构！' }]}]"}],staticStyle:{width:"100%"},attrs:{dropdownStyle:{maxHeight:"300px",overflow:"auto"},treeData:e.orgTree,placeholder:"请选择上级机构",treeDefaultExpandAll:""},scopedSlots:e._u([{key:"title",fn:function(t){var a=t.id;return r("span",{},[e._v(e._s(a)+" ")])}}])})],1),r("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"排序"}},[r("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["sort",{initialValue:100}],expression:"['sort', { initialValue: 100 }]"}],staticStyle:{width:"100%"},attrs:{placeholder:"请输入排序",min:1,max:1e3}})],1),r("a-form-item",{attrs:{label:"备注",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[r("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["remark"],expression:"['remark']"}],attrs:{rows:4,placeholder:"请输入备注"}})],1)],1)],1)],1)},n=[],o=(r("b0c0"),r("4e82"),r("d3b7"),r("25fa")),s={data:function(){return{labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:15}},orgTree:[],visible:!1,confirmLoading:!1,formLoading:!0,form:this.$form.createForm(this)}},methods:{edit:function(e){var t=this;this.visible=!0,this.getOrgTree(),setTimeout((function(){t.form.setFieldsValue({id:e.id,name:e.name,code:e.code,sort:e.sort,pid:e.pid,remark:e.remark})}),100)},getOrgTree:function(){var e=this;Object(o["c"])().then((function(t){e.formLoading=!1,t.success?e.orgTree=[{id:"-1",parentId:"0",title:"顶级",value:"0",pid:"0",children:t.data}]:e.orgTree=[]}))},handleSubmit:function(){var e=this,t=this.form.validateFields;this.confirmLoading=!0,t((function(t,r){t?e.confirmLoading=!1:Object(o["f"])(r).then((function(t){t.success?(e.$message.success("编辑成功"),e.visible=!1,e.confirmLoading=!1,e.$emit("ok",r),e.form.resetFields()):e.$message.error("编辑失败："+t.message)})).finally((function(t){e.confirmLoading=!1}))}))},handleCancel:function(){this.form.resetFields(),this.visible=!1}}},i=s,l=r("2877"),d=Object(l["a"])(i,a,n,!1,null,null,null);t["default"]=d.exports},b85c:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0");var a=r("06c5");function n(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Object(a["a"])(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,s=e},f:function(){try{i||null==r["return"]||r["return"]()}finally{if(l)throw s}}}}},ba74:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("a-modal",{attrs:{title:"新增机构",width:900,visible:e.visible,confirmLoading:e.confirmLoading},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[r("a-spin",{attrs:{spinning:e.formLoading}},[r("a-form",{attrs:{form:e.form}},[r("a-form-item",{attrs:{label:"机构名称",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"请输入机构名称！"}]}],expression:"['name', {rules: [{required: true, message: '请输入机构名称！'}]}]"}],attrs:{placeholder:"请输入机构名称"}})],1),r("a-form-item",{attrs:{label:"唯一编码",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["code",{rules:[{required:!0,message:"请输入唯一编码！"}]}],expression:"['code', {rules: [{required: true, message: '请输入唯一编码！'}]}]"}],attrs:{placeholder:"请输入唯一编码"}})],1),r("a-form-item",{attrs:{label:"上级机构",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[r("a-tree-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["pid",{rules:[{required:!0,message:"请选择上级机构！"}]}],expression:"['pid', {rules: [{ required: true, message: '请选择上级机构！' }]}]"}],staticStyle:{width:"100%"},attrs:{dropdownStyle:{maxHeight:"300px",overflow:"auto"},treeData:e.orgTree,placeholder:"请选择上级机构",treeDefaultExpandAll:""},scopedSlots:e._u([{key:"title",fn:function(t){var a=t.id;return r("span",{},[e._v(e._s(a)+" ")])}}])})],1),r("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"排序"}},[r("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["sort",{initialValue:100}],expression:"['sort', { initialValue: 100 }]"}],staticStyle:{width:"100%"},attrs:{placeholder:"请输入排序",min:1,max:1e3}})],1),r("a-form-item",{attrs:{label:"备注",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[r("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["remark"],expression:"['remark']"}],attrs:{rows:4,placeholder:"请输入备注"}})],1)],1)],1)],1)},n=[],o=(r("d3b7"),r("25fa")),s={data:function(){return{labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:15}},orgTree:[],visible:!1,confirmLoading:!1,formLoading:!0,form:this.$form.createForm(this)}},methods:{add:function(){this.visible=!0,this.getOrgTree()},getOrgTree:function(){var e=this;Object(o["c"])().then((function(t){e.formLoading=!1,t.success?e.orgTree=[{id:"-1",parentId:"0",title:"顶级",value:"0",pid:"0",children:t.data}]:e.orgTree=[]}))},handleSubmit:function(){var e=this,t=this.form.validateFields;this.confirmLoading=!0,t((function(t,r){t?e.confirmLoading=!1:Object(o["d"])(r).then((function(t){t.success?(e.$message.success("新增成功"),e.visible=!1,e.confirmLoading=!1,e.$emit("ok",r),e.form.resetFields()):e.$message.error("新增失败："+t.message)})).finally((function(t){e.confirmLoading=!1}))}))},handleCancel:function(){this.form.resetFields(),this.visible=!1}}},i=s,l=r("2877"),d=Object(l["a"])(i,a,n,!1,null,null,null);t["default"]=d.exports},d507:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return o})),r.d(t,"c",(function(){return s}));var a=r("b775");function n(){return Object(a["b"])({url:"/ysCompany/nameList",method:"POST"})}function o(e){return Object(a["b"])({url:"/ysCompany/list",method:"post",params:e})}function s(e){return Object(a["b"])({url:"/ysCompany/tree",method:"post",params:e})}}}]);
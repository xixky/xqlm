(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1faaeca8"],{"0a5a":function(e,t,a){},"727a":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:"新增岗位",width:900,visible:e.visible,confirmLoading:e.confirmLoading},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("a-form",{attrs:{form:e.form}},[a("a-form-item",{attrs:{label:"岗位名称",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["psName",{rules:[{required:!0,message:"请输入公司名称！"}]}],expression:"['psName', {rules: [{required: true, message: '请输入公司名称！'}]}]"}],attrs:{placeholder:"请输入岗位名称"}})],1),a("a-form-item",{attrs:{label:"岗位类型",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["psCategory",{rules:[{required:!0,message:"请选择岗位类型"}]}],expression:"['psCategory', {rules: [{required: true, message: '请选择岗位类型'}]}]"}],staticStyle:{width:"100%"},attrs:{"show-search":"",placeholder:"选择岗位类型","option-filter-prop":"children","filter-option":e.filterOption}},e._l(e.categoryList,(function(t,s){return a("a-select-option",{key:t.tag,attrs:{index:s,item:t,value:t.tag}},[e._v(" "+e._s(t.content)+" ")])})),1)],1),e.companyList.length>1?a("a-form-item",{attrs:{label:"所属园所",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["psCompanyId",{rules:[{required:!0,message:"请选择所属园所"}]}],expression:"['psCompanyId', {rules: [{required: true, message: '请选择所属园所'}]}]"}],staticStyle:{width:"100%"},attrs:{"show-search":"",placeholder:"选择园所","option-filter-prop":"children","filter-option":e.filterOption}},e._l(e.companyList,(function(t,s){return a("a-select-option",{key:t.tag,attrs:{index:s,item:t,value:t.id}},[e._v(" "+e._s(t.cpName)+" ")])})),1)],1):e._e(),a("a-form-item",{attrs:{label:"工作地点",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[a("a-cascader",{directives:[{name:"decorator",rawName:"v-decorator",value:["pccList",{rules:[{required:!0,message:"请选择工作地点"}]}],expression:"['pccList', {rules: [{required: true, message: '请选择工作地点'}]}]"}],staticStyle:{width:"100%"},attrs:{options:e.cityArray,placeholder:"请选择工作地点"},on:{change:e.onChange}})],1),a("a-form-item",{attrs:{label:"学历要求",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["psEduMode",{rules:[{required:!0,message:"请选择岗位类型"}]}],expression:"['psEduMode', {rules: [{required: true, message: '请选择岗位类型'}]}]"}],staticStyle:{width:"100%"},attrs:{"show-search":"",placeholder:"选择学历","option-filter-prop":"children","filter-option":e.filterOption}},e._l(e.eduModeList,(function(t,s){return a("a-select-option",{key:t.tag,attrs:{index:s,item:t,value:t.tag}},[e._v(" "+e._s(t.content)+" ")])})),1)],1),a("a-form-item",{attrs:{label:"工作年限",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["psWkYear",{rules:[{required:!0,message:"请选择岗位类型"}]}],expression:"['psWkYear', {rules: [{required: true, message: '请选择岗位类型'}]}]"}],staticStyle:{width:"100%"},attrs:{"show-search":"",placeholder:"选择一个工作年限","option-filter-prop":"children","filter-option":e.filterOption}},e._l(e.wkYearList,(function(t,s){return a("a-select-option",{key:t.tag,attrs:{index:s,item:t,value:t.tag}},[e._v(" "+e._s(t.content)+" ")])})),1)],1),a("a-form-item",{attrs:{label:"薪资范围",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["psSalaryRange",{rules:[{required:!0,message:"选择薪资范围"}]}],expression:"['psSalaryRange', {rules: [{required: true, message: '选择薪资范围'}]}]"}],staticStyle:{width:"100%"},attrs:{"show-search":"",placeholder:"选择薪资范围","option-filter-prop":"children","filter-option":e.filterOption}},e._l(e.salaryList,(function(t,s){return a("a-select-option",{key:t.tag,attrs:{index:s,item:t,value:t.tag}},[e._v(" "+e._s(t.content)+" ")])})),1)],1),a("a-form-item",{attrs:{label:"工作类型",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["psType",{rules:[{required:!0,message:"请选择岗位类型"}]}],expression:"['psType', {rules: [{required: true, message: '请选择岗位类型'}]}]"}],staticStyle:{width:"100%"},attrs:{"show-search":"",placeholder:"选择一个工作类型","option-filter-prop":"children","filter-option":e.filterOption}},e._l(e.typeList,(function(t,s){return a("a-select-option",{key:t.tag,attrs:{index:s,item:t,value:t.tag}},[e._v(" "+e._s(t.content)+" ")])})),1)],1),a("a-form-item",{staticStyle:{width:"100%"},attrs:{label:"有效时间",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["psStrengthEnd",{rules:[{required:!0,message:"请选择有效时间"}]}],expression:"['psStrengthEnd', {rules: [{required: true, message: '请选择有效时间'}]}]"}],attrs:{format:"YYYY-MM-DD"},on:{change:e.onChange}})],1),a("a-form-item",{staticStyle:{width:"100%"},attrs:{label:"置顶时间",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[a("a-time-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["showTime",{rules:[{required:!1,message:"请选择有效时间"}]}],expression:"['showTime', {rules: [{required: false, message: '请选择有效时间'}]}]"}],on:{change:e.onChange}})],1),a("a-form-item",{attrs:{label:"年龄限制",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["ageLimit",{rules:[{required:!1,message:"请选择有效的年龄"}]}],expression:"['ageLimit', {rules: [{required: false, message: '请选择有效的年龄'}]}]"}],attrs:{format:"YYYY-MM-DD"},on:{change:e.onChange}})],1),a("a-form-item",{staticStyle:{width:"100%"},attrs:{label:"标签列表",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["psTagListName",{rules:[{required:!0,message:"请选择职位优势"}]}],expression:"['psTagListName', {rules: [{required: true, message: '请选择职位优势'}]}]"}],staticStyle:{width:"100%"},attrs:{mode:"multiple",placeholder:"选择职位标签"},on:{change:e.tagChange}},e._l(e.filteredOptions,(function(t,s){return a("a-select-option",{key:t,attrs:{index:s,value:t}},[e._v(" "+e._s(t)+" ")])})),1)],1),a("a-form-item",{attrs:{label:"岗位描述",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}}),a("div",{staticClass:"editer"},[a("editor",{attrs:{isClear:e.isClear},on:{change:e.onChange},model:{value:e.detail,callback:function(t){e.detail=t},expression:"detail"}})],1)],1)],1)],1)},i=[],r=(a("4de4"),a("caad"),a("2532"),a("d81d"),a("159b"),a("d3b7"),a("30e7")),n=a("eed9"),o=a("d507"),l=a("6364"),c=a("6174"),p={components:{editor:c["a"]},data:function(){return{labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:15}},visible:!1,confirmLoading:!1,form:this.$form.createForm(this),eduModeList:[],wkYearList:[],salaryList:[],categoryList:[],typeList:[],companyList:[],cityArray:l["default"],tagList:[],tags:[],isClear:!1,detail:""}},computed:{filteredOptions:function(){var e=this;return this.tagList.filter((function(t){return!e.tags.includes(t)}))}},methods:{add:function(e){var t=this;this.visible=!0,this.detail="",Object(n["a"])("POSITION_CATEGORY").then((function(e){return t.categoryList=e.data})),Object(n["a"])("PS_EDU_MODE").then((function(e){return t.eduModeList=e.data})),Object(n["a"])("SALARY_RANGE").then((function(e){return t.salaryList=e.data})),Object(n["a"])("WORK_TYPE").then((function(e){return t.typeList=e.data})),Object(n["a"])("WORK_YEAR").then((function(e){return t.wkYearList=e.data})),Object(n["a"])("PS_ADVANTAGE").then((function(e){return t.tagList=e.data.map((function(e){return e.content}))})),Object(o["b"])().then((function(e){return t.companyList=e.data}))},handleSubmit:function(){var e=this.form.validateFields;this.confirmLoading=!0;var t=this;e((function(e,a){if(e)t.confirmLoading=!1;else{var s=l["default"].filter((function(e){return e.value===a.pccList[0]}))[0];a.psProvince=s.label;var i=s.children.filter((function(e){return e.value===a.pccList[1]}))[0];a.psCity=i.label,a.psArea=i.children.filter((function(e){return e.value===a.pccList[2]}))[0].label,a.psWkPlace=a.psProvince+a.psCity+a.psArea;var n="";a.pccList.forEach((function(e){return n+=e+"@"})),a.pccList=n,a.psStatus=1;var o=a.psTagListName,c="";o.forEach((function(e){return c+=e+"@"})),a.psTagListName=c,t.companyList.length>1?a.psCompanyName=t.companyList.filter((function(e){return e.id=a.psCompanyId}))[0].cpName:(a.psCompanyId=t.companyList[0].id,a.psCompanyName=t.companyList[0].cpName);var p=a.psStrengthEnd;a.psStrengthEnd=t.dayjs(p).format("YYYY-MM-DD HH:mm:ss"),a.ageLimit&&(a.ageLimit=t.dayjs(a.ageLimit).format("YYYY-MM-DD HH:mm:ss")),a.showTime&&(a.showTime=t.dayjs(a.showTime).format("HH:mm:ss")),a.psJdContent=t.detail,Object(r["a"])(a).then((function(e){t.confirmLoading=!1,0==e.code?(t.$message.success("新增成功"),t.handleCancel(),t.$emit("ok",a)):t.$message.info("新增失败："+e.message)})).finally((function(e){t.confirmLoading=!1}))}}))},handleCancel:function(){this.form.resetFields(),this.visible=!1},onChange:function(e){},handleChange:function(e){},tagChange:function(e){this.tags=e},filterOption:function(e,t){return t.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0},contentChange:function(e){}}},d=p,u=(a("b5e7"),a("2877")),m=Object(u["a"])(d,s,i,!1,null,"f6c9cef0",null);t["default"]=m.exports},"7c0a":function(e,t,a){"use strict";a("0a5a")},b2b6:function(e,t,a){},b5e7:function(e,t,a){"use strict";a("b2b6")},d414:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app1"},[a("a-col",{attrs:{md:12,xs:24}},[a("a-input-search",{staticClass:"search",staticStyle:{width:"200px"},attrs:{placeholder:"输入要搜素的职位名"},on:{search:e.onSearch}})],1),e.loading?a("div",{staticClass:"example"},[a("a-spin",{attrs:{spinning:e.loading,delay:300}})],1):e._e(),a("div",{staticClass:"position-list",class:e.positionList.length<1&&!e.loading?"empty":""},[e.positionList.length<1&&!e.loading?a("a-empty"):e._e(),e._l(e.positionList,(function(t,s){return a("div",{key:s,staticClass:"position-item",attrs:{item:t,index:s}},[a("a-col",{staticClass:"card",attrs:{md:8,xs:24}},[a("a-checkbox",{staticClass:"checkbox",on:{change:e.onChange}}),a("a-col",{staticClass:"info",attrs:{md:24,xs:24},on:{click:function(a){return a.stopPropagation(),e.checkDetail(t.id)}}},[a("a-col",{staticClass:"name",attrs:{md:24,xs:24}},[e._v(" "+e._s(t.psName)+" ")]),a("a-col",{staticClass:"about",attrs:{md:24,xs:24}},[a("span",{staticClass:"slipt-span"},[e._v(e._s(t.psSalaryRange))]),e._v("| "),a("span",{staticClass:"slipt-span"},[e._v(e._s(t.psEduMode))]),e._v("| "),a("span",{staticClass:"slipt-span"},[e._v(e._s(t.psWkYear))]),e._v("| "),a("span",{staticClass:"slipt-span"},[e._v(e._s(t.psType))])]),a("a-col",{staticClass:"area",attrs:{md:24,xs:24}},[e._v("工作地点: "),a("span",[e._v(e._s(t.psWkPlace))])]),a("a-col",{staticClass:"time",attrs:{md:24,xs:24}},[e._v("2021-06-11")])],1)],1),a("a-col",{staticClass:"count",attrs:{md:8,xs:24}},[t.resumeCount>0?a("div",{staticClass:"num",on:{click:function(a){return a.stopPropagation(),e.toResumePage(t.categoryTag,t.id)}}},[e._v(e._s(t.resumeCount)+" ")]):a("div",{staticClass:"num"},[e._v("-")]),a("div",{staticClass:"text"},[e._v("待处理")])]),a("a-col",{staticClass:"opt",attrs:{md:8,xs:24}},[a("div",{staticClass:"look"},[a("el-button",{attrs:{icon:"el-icon-view",type:"primary"},on:{click:function(a){return a.stopPropagation(),e.checkDetail(t.id)}}},[e._v("查看 ")])],1),a("div",{staticClass:"edit"},[a("el-button",{attrs:{icon:"el-icon-edit-outline",type:"primary"},on:{click:function(a){return a.stopPropagation(),e.$refs.edit.edit(t)}}},[e._v("修改 ")])],1),1===t.psCheckStatus?a("div",{staticClass:"change-state"},[1===t.psStatus?a("el-button",{attrs:{icon:"el-icon-bottom",type:"primary"},on:{click:function(a){return a.stopPropagation(),e.down(a,[t.id])}}},[e._v("下线 ")]):e._e(),0===t.psStatus?a("el-button",{attrs:{icon:"el-icon-top",type:"primary"},on:{click:function(a){return a.stopPropagation(),e.up(a,[t.id])}}},[e._v("上线 ")]):e._e()],1):e._e()])],1)}))],2),a("div",{staticClass:"page-menu"},[a("a-pagination",{attrs:{"page-size-options":e.pageSizeOptions,total:e.page.total,"show-size-changer":"","page-size":e.page.size,showSizeChanger:!0},on:{change:e.pageChange,showSizeChange:e.onShowSizeChange},scopedSlots:e._u([{key:"buildOptionText",fn:function(t){return[t.value!==e.page.pages?a("span",[e._v(e._s(t.value)+"条/页")]):e._e(),t.value===e.page.pages?a("span",[e._v("全部")]):e._e()]}}]),model:{value:e.page.current,callback:function(t){e.$set(e.page,"current",t)},expression:"page.current"}})],1),a("add-form",{ref:"add",on:{ok:e.handleAddOk}}),a("edit-form",{ref:"edit",on:{ok:e.handleEditOk}})],1)},i=[],r=(a("b0c0"),a("159b"),a("30e7")),n=a("727a"),o=a("f413"),l=a("5c96"),c={name:"position",components:{addForm:n["default"],editForm:o["default"],elButton:l["Button"]},data:function(){return{tagList:[],positionList:[],checkTagId:1,page:{size:10,current:1,pages:10,total:100},name:"",loading:!1,pageSizeOptions:["5","10","20","50"],psState:0,position:{},isChecked:!1,confirmLoading:!0,checkItems:[],checkIndex:0}},computed:{getTimeDiff:function(){if(this.position.createTime){var e=(new Date).getTime(),t=Date.parse(this.position.createTime),a=e-t;return a=Math.abs(a),Math.floor(a/864e5)}return 0},getAge:function(){if(this.position.createTime&&this.position.ageLimit){var e=Date.parse(this.position.createTime),t=Date.parse(this.position.ageLimit),a=e-t;return a=Math.abs(a),Math.floor(a/31536e6)}return 0},getTagList:function(){if(this.position.psTagListName){var e=this.position.psTagListName;e=e.substring(0,e.length-1);var t="“"+e.replaceAll("@","，")+"”";return t}return""}},watch:{pageSize:function(e){},current:function(e){}},mounted:function(){if(this.$route.query.state){var e=this.$route.query.state;this.checkIndex=e}this.init()},methods:{toResumePage:function(e,t){this.$router.push({path:"/resume",query:{id:t,rsStatus:0,refresh:1}})},up:function(e,t){e.loading=!0;var a=this;Object(r["g"])(t).then((function(t){0==t.code&&(e.loading=!1,a.$message.success("操作成功，请稍等"),a.init())}))},down:function(e,t){e.loading=!0;var a=this;Object(r["c"])(t).then((function(t){0==t.code&&(e.loading=!1,a.$message.success("操作成功，请稍等"),a.init())}))},init:function(){this.getList()},getList:function(){var e=this;this.loading=!0;var t={pageNo:this.page.current,pageSize:this.page.size},a={code:3,psName:this.name};Object(r["f"])(a,t).then((function(t){e.page.current=parseInt(t.data.current),e.page.size=parseInt(t.data.size),e.page.total=parseInt(t.data.total),e.page.pages=parseInt(t.data.pages),e.positionList=t.data.records,e.loading=!1}))},checkDetail:function(e){this.$router.push({path:"/position/detail",query:{id:e}})},backList:function(){var e=this;e.isChecked=!1,e.confirmLoading=!0},handleChange:function(e){this.checkIndex!=e.index&&(this.tagList.forEach((function(e){return e.check=!1})),this.page.current=1,this.positionList.length=0,this.checkIndex=e.index,this.getList()),e.check=!0},pageChange:function(e,t){this.page.current=e,this.page.size=t,this.getList(),this.backTop()},onShowSizeChange:function(e,t){this.page.size=t,this.page.curret=e,this.getList()},backTop:function(){var e=setInterval((function(){var t=document.documentElement.scrollTop||document.body.scrollTop,a=Math.floor(-t/5);document.documentElement.scrollTop=document.body.scrollTop=t+a,0===t&&clearInterval(e)}),5)},onSearch:function(e){this.name=e,this.page.curret=1,this.init()},handleAddOk:function(){this.init()},handleEditOk:function(){this.init()},onChange:function(e){}}},p=c,d=(a("7c0a"),a("2877")),u=Object(d["a"])(p,s,i,!1,null,"7ea1e606",null);t["default"]=u.exports}}]);